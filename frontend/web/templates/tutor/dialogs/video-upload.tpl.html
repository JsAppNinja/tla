<div cg-busy="{promise:loader,message:progress, backdrop:true, templateUrl:'/templates/tutor/loader.tpl.html'}"
     class="video-cg-busy"></div>
<form name="videoUpload" novalidate>
    <div class="row" ng-show="!uploaded && !edited">
        <div class="col-md-12">
            <div class="form-group">
                <div ng-required="!edited" ngf-drop ngf-select ng-model="newVideoFile" class="drag-file-block">
                    <span ng-if="!newVideoFile">Drag and drop file, or click for upload</span>
                    <ul ng-if="newVideoFile">
                        <li>File name: {{newVideoFile.name}}</li>
                        <li>File size: {{newVideoFile.size | humanizeFilesize}}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="!uploaded">
        <div class="col-md-12">
            <div class="form-group required">
                <label class="control-label">Video title</label>
                <input required type="text" class="form-control" ng-model="newVideo.title">
            </div>
            <div class="form-group required">
                <label class="control-label">Video description</label>
                <textarea required class="form-control" rows="10" ng-model="newVideo.description"></textarea>
            </div>
        </div>
    </div>
    <div class="row" ng-show="uploaded">
        <div class="col-md-12 text-center">
            <h1 style="color:green">Video successfully uploaded</h1>

            <div class="icon icon--order-success svg">
                <svg xmlns="http://www.w3.org/2000/svg" width="72px" height="72px">
                    <g fill="none" stroke="#8EC343" stroke-width="2">
                        <circle cx="36" cy="36" r="35"
                                style="stroke-dasharray:240px, 240px; stroke-dashoffset: 480px;"></circle>
                        <path d="M17.417,37.778l9.93,9.909l25.444-25.393"
                              style="stroke-dasharray:50px, 50px; stroke-dashoffset: 0px;"></path>
                    </g>
                </svg>
            </div>
        </div>
    </div>
    <div class="row" ng-show="!uploaded">
        <div class="col-md-12">
            <div class="ngdialog-buttons">
                <button type="button" class="ngdialog-button btn btn-danger" ng-click="closeThisDialog(0)">Cancel
                </button>
                <button type="submit" ng-if="!edited" class="ngdialog-button btn btn-primary"
                        ng-click="videoUpload.$valid?upload(newVideoFile, newVideo):''">Upload video
                </button>
                <button type="submit" ng-if="edited" class="ngdialog-button btn btn-primary"
                        ng-click="videoUpload.$valid?updateVideo(newVideo, this):''">Apply
                </button>
            </div>
        </div>
    </div>
</form>
<div class="row" ng-show="uploaded">
    <div class="col-md-12">
        <div class="ngdialog-buttons">
            <button type="submit" class="ngdialog-button btn btn-primary"
                    ng-click="closeThisDialog(0)">Close dialog
            </button>
        </div>
    </div>
</div>